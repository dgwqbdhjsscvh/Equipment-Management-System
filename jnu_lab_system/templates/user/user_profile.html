{% extends 'base.html' %}

{% block title %}个人信息 - 江南大学实验室设备管理系统{% endblock %}

{% block sidebar %}
<div class="sidebar">
    <a href="{% url 'user_home' %}">首页</a>
    <a href="{% url 'device_list' %}">设备查询</a>
    <a href="{% url 'booking_apply' %}">预约申请</a>
    <a href="{% url 'my_booking' %}">我的预约</a>
    <a href="{% url 'user_profile' %}">个人信息</a>
</div>
{% endblock %}

{% block content %}
<div class="card">
    <h2>个人信息管理</h2>
    <form method="post">
        {% csrf_token %}
        <div style="display: flex; gap: 40px;">
            <div>
                <div class="form-group">
                    <label>用户类型</label>
                    <select name="user_type" disabled>
                        <option value="student" selected>校内学生</option>
                        <option value="teacher">校内教师</option>
                        <option value="outside">校外人员</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>用户名/学号/编号</label>
                    <input type="text" name="user_id" value="20230001" readonly>
                </div>
                <div class="form-group">
                    <label>姓名</label>
                    <input type="text" name="name" value="张三" required>
                </div>
                <div class="form-group">
                    <label>性别</label>
                    <select name="gender" required>
                        <option value="男" selected>男</option>
                        <option value="女">女</option>
                    </select>
                </div>
            </div>
            <div>
                <div class="form-group">
                    <label>所在学院/单位</label>
                    <input type="text" name="department" value="物联网工程学院" required>
                </div>
                <div class="form-group">
                    <label>专业/职称</label>
                    <input type="text" name="major" value="计算机科学与技术" required>
                </div>
                <div class="form-group">
                    <label>指导教师</label>
                    <input type="text" name="advisor" value="李四 教授" required>
                </div>
                <div class="form-group">
                    <label>联系电话</label>
                    <input type="tel" name="phone" value="13800138000" required>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-success">保存修改</button>
        <button type="button" class="btn">修改密码</button>
    </form>
    
    <!-- 教师用户专属：指导学生列表（仅演示） -->
    <div style="margin-top: 40px; display: none;" id="teacher_student_list">
        <h3>指导学生列表管理</h3>
        <button class="btn">批量导入（Excel）</button>
        <table style="margin-top: 10px;">
            <thead>
                <tr>
                    <th>学号</th>
                    <th>姓名</th>
                    <th>专业</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>20230001</td>
                    <td>张三</td>
                    <td>计算机科学与技术</td>
                    <td><button class="btn btn-danger">移除</button></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
{% endblock %}